<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ‘¥ Quáº£n lÃ½ NhÃ¢n viÃªn & Cá»­a hÃ ng</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    .toolbar {
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }
    .left-tools { display: flex; gap: 12px; align-items: center; }

    .btn-add {
      background: #2196f3;
      color: #fff;
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .btn-add.orange { background: #ff9800; }
    .btn-add.gray { background: #6c757d; }
    .btn-add:hover { opacity: 0.9; }

    .search-area {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .search-area input {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .data-table th, .data-table td {
      padding: 10px 8px;
      text-align: left;
    }

    .actions button {
      margin-right: 6px;
      padding: 6px 8px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }

    .btn-edit { background: #ffc107; color: #111; }
    .btn-toggle { background: #17a2b8; color: #fff; }

    /* modal */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.45);
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal-content {
      background: #fff;
      width: 720px;
      max-width: 95%;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .form-group.full { grid-column: 1 / -1; }

    .modal-actions {
      margin-top: 14px;
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }

    .btn-save {
      background: #007bff;
      color: #fff;
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    .btn-cancel {
      background: #6c757d;
      color: #fff;
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    @media (max-width:640px) {
      .form-grid { grid-template-columns: 1fr; }
      .toolbar { flex-direction: column; align-items: stretch; gap: 10px; }
    }
  </style>

  <script type="module" src="js/firebaseConfig.js"></script>
  <script type="module" src="js/menu.js"></script>
  <script type="module" src="js/nhanvien.js"></script>
</head>

<body>
  <div id="menu"></div>

  <main class="container">
    <h1>ğŸ‘¥ Quáº£n lÃ½ NhÃ¢n viÃªn & Cá»­a hÃ ng</h1>

    <div class="toolbar">
      <div class="left-tools">
        <button id="btnOpenAddNV" class="btn-add">â• ThÃªm nhÃ¢n viÃªn</button>
        <button id="btnOpenAddCH" class="btn-add orange">ğŸª ThÃªm cá»­a hÃ ng</button>
        <button id="btnListCH" class="btn-add gray">ğŸ“‹ Danh sÃ¡ch cá»­a hÃ ng</button>
      </div>

      <div class="search-area">
        <input type="text" id="searchInput" placeholder="TÃ¬m theo tÃªn hoáº·c SÄT..." />
        <button id="btnSearch" class="btn-save">TÃ¬m</button>
        <button id="btnClear" class="btn-cancel">XÃ³a</button>
      </div>
    </div>

    <table class="data-table" style="width:100%; border-collapse:collapse;">
      <thead>
        <tr style="background:#f4f6f8;">
          <th>User</th>
          <th>Há» tÃªn</th>
          <th>SÄT</th>
          <th>Äá»‹a chá»‰</th>
          <th>Giá»›i tÃ­nh</th>
          <th>Quyá»n</th>
          <th>Chá»©c vá»¥</th>
          <th>TÃ¬nh tráº¡ng</th>
          <th>Kho lÃ m viá»‡c</th>
          <th>HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody id="listNhanVien"></tbody>
    </table>
  </main>

  <!-- Modal thÃªm nhÃ¢n viÃªn -->
  <div id="modalAddNV" class="modal">
    <div class="modal-content">
      <h2>â• ThÃªm nhÃ¢n viÃªn</h2>
      <form id="formNhanVien">
        <div class="form-grid">
          <div class="form-group"><label>Há» tÃªn</label><input type="text" id="nvHoTen" required /></div>
          <div class="form-group"><label>SÄT</label><input type="text" id="nvSdt" required /></div>
          <div class="form-group full"><label>Äá»‹a chá»‰</label><input type="text" id="nvDiaChi" required /></div>

          <div class="form-group"><label>Giá»›i tÃ­nh</label>
            <select id="nvGioiTinh">
              <option value="">Chá»n</option>
              <option>Nam</option>
              <option>Ná»¯</option>
            </select>
          </div>

          <div class="form-group"><label>Quyá»n</label>
            <select id="nvQuyen">
              <option value="admin">Admin</option>
              <option value="quanly">Quáº£n lÃ½</option>
              <option value="nhanvien">NhÃ¢n viÃªn</option>
            </select>
          </div>

          <div class="form-group"><label>Chá»©c vá»¥</label><input type="text" id="nvChucVu" /></div>

          <div class="form-group"><label>TÃ¬nh tráº¡ng</label>
            <select id="nvTinhTrang">
              <option value="active">KÃ­ch hoáº¡t</option>
              <option value="inactive">Ngá»«ng hoáº¡t Ä‘á»™ng</option>
            </select>
          </div>

          <div class="form-group">
            <label for="nvKho">Kho lÃ m viá»‡c:</label>
            <select id="nvKho">
              <option value="">-- Chá»n kho lÃ m viá»‡c --</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>
              <input type="checkbox" id="nvQuyenKho" />
              Cáº¥p quyá»n quáº£n lÃ½ kho
            </label>
          </div>
          
        </div>

        <div class="modal-actions">
          <button type="submit" class="btn-save">ğŸ’¾ LÆ°u</button>
          <button type="button" id="btnCancelNV" class="btn-cancel">âŒ Há»§y</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal thÃªm cá»­a hÃ ng -->
  <div id="modalAddCH" class="modal">
    <div class="modal-content">
      <h2>ğŸª ThÃªm cá»­a hÃ ng má»›i</h2>
      <form id="formCuaHang">
        <div class="form-grid">
          <div class="form-group full"><label>TÃªn cá»­a hÃ ng</label><input type="text" id="chTen" required /></div>
          <div class="form-group full"><label>Äá»‹a chá»‰</label><input type="text" id="chDiaChi" required /></div>
          <div class="form-group"><label>Tráº¡ng thÃ¡i</label>
            <select id="chTrangThai"><option value="active">KÃ­ch hoáº¡t</option><option value="inactive">Táº¡m dá»«ng</option></select>
          </div>
          <div class="form-group"><label>Quáº£n lÃ½ cá»­a hÃ ng</label>
            <select id="chQuanLy" required><option value="">-- Chá»n nhÃ¢n viÃªn quáº£n lÃ½ --</option></select>
          </div>
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn-save">ğŸ’¾ LÆ°u</button>
          <button type="button" id="btnCancelCH" class="btn-cancel">âŒ Há»§y</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal danh sÃ¡ch cá»­a hÃ ng -->
  <div id="modalListCH" class="modal">
    <div class="modal-content" style="width:900px; max-height:90vh; overflow:auto;">
      <h2>ğŸ“‹ Danh sÃ¡ch cá»­a hÃ ng</h2>

      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <input type="text" id="searchCH" placeholder="TÃ¬m theo tÃªn hoáº·c quáº£n lÃ½..."
          style="flex:1; padding:8px; border-radius:6px; border:1px solid #ccc;">
        <button id="btnSearchCH" class="btn-save">TÃ¬m</button>
        <button id="btnClearCH" class="btn-cancel">XÃ³a</button>
      </div>

      <table style="width:100%; border-collapse:collapse;" class="data-table">
        <thead>
          <tr>
            <th>Store ID</th>
            <th>TÃªn kho</th>
            <th>Äá»‹a chá»‰</th>
            <th>Quáº£n lÃ½</th>
            <th>Tráº¡ng thÃ¡i</th>
            <th>HÃ nh Ä‘á»™ng</th>
          </tr>
        </thead>
        <tbody id="listCuaHang"></tbody>
        
      </table>

      <div class="modal-actions">
        <button id="btnCloseCH" class="btn-cancel">âŒ ÄÃ³ng</button>
      </div>
    </div>
  </div>
</body>
</html>
